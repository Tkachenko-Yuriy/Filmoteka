{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-c76bdfdbba85b769.js","src/js/refs.js","src/js/fetchTrendingMovie.js","src/js/fetchSearchMovie.js","src/js/fetchSelectMovie.js","src/js/genresData.js","src/js/createGalleryMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-96f2ab7152512f13.js","src/js/createModalMarkup.js","src/js/createMyLibGalleryMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-a2599591d5d901e0.js","src/js/localStorage.js","src/js/onModalBtnClick.js","src/js/loader.js","src/js/scrollToAnkore.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.8e2f8fe3.js\\\",\\\"9mItj\\\":\\\"plug_img.1b18cf51.jpg\\\",\\\"eVStz\\\":\\\"close_x.576fb31f.svg\\\"}\"));","export const refs = {\n  jsForm: document.querySelector('.js-form'),\n  search_message: document.querySelector('.js-form__search_message'),\n  jsGallery: document.querySelector('.js-gallery'),\n  jsGalleryList: document.querySelector('.js-gallery-list'),\n  trendingTarget : document.querySelector('.js-trending-target'),\n  searchTarget : document.querySelector('.js-search-target'),\n  jsModal: document.querySelector('.js-modal'),\n  backdrop: document.querySelector('.js-backdrop'),\n  closeModalBtn: document.querySelector('.close_btn'),\n  myLib: document.querySelector('.js-my_lib'),\n  headerWatchedBtn: document.querySelector('.header__watched_btn'),\n  headerQueueBtn: document.querySelector('.header__queue_btn'),\n  jsLoader: document.querySelector('.js-loader'),\n  anchor: document.querySelector('.js-anchor'),\n};\n\n","const BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '270f62a3161833b29f3534ef1d18d5a6';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNzBmNjJhMzE2MTgzM2IyOWYzNTM0ZWYxZDE4ZDVhNiIsInN1YiI6IjY1NjliMzRmNjM1MzZhMDBjNDJhOTRhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.W6n_PVw8L5YbP5E4yWe4QgSA4ZnMDGxzBFCiqZdJHBc',\n  },\n};\n\nexport default function fetchTrendingMovie(page) {\n  return fetch(\n    `${BASE_URL}/3/movie/popular?&append_to_response=configuration&language=uk-UK&page=${page}`,\n    options\n  ).then(response => {\n    // console.log(response);\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","const BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '270f62a3161833b29f3534ef1d18d5a6';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNzBmNjJhMzE2MTgzM2IyOWYzNTM0ZWYxZDE4ZDVhNiIsInN1YiI6IjY1NjliMzRmNjM1MzZhMDBjNDJhOTRhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.W6n_PVw8L5YbP5E4yWe4QgSA4ZnMDGxzBFCiqZdJHBc',\n  },\n};\n\nexport default function fetchSearchMovie(value, page) {\n  return fetch(\n    `${BASE_URL}/3/search/movie?query=${value}&include_adult=false&language=en-US&page=${page}`,\n    options\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","const BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '270f62a3161833b29f3534ef1d18d5a6';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNzBmNjJhMzE2MTgzM2IyOWYzNTM0ZWYxZDE4ZDVhNiIsInN1YiI6IjY1NjliMzRmNjM1MzZhMDBjNDJhOTRhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.W6n_PVw8L5YbP5E4yWe4QgSA4ZnMDGxzBFCiqZdJHBc',\n  },\n};\n\nexport default function fetchSelectMovie(id) {\n  return fetch(\n    `${BASE_URL}/3/movie/${id}?&append_to_response=videos&language=uk-UK`,\n    options\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export const genresData = [\n  { id: 28, name: 'Бойовик' },\n  { id: 12, name: 'Пригоди' },\n  { id: 16, name: 'Мультфільм' },\n  { id: 35, name: 'Комедія' },\n  { id: 80, name: 'Кримінал' },\n  { id: 99, name: 'Документальний' },\n  { id: 18, name: 'Драма' },\n  { id: 10751, name: 'Сімейний' },\n  { id: 14, name: 'Фентезі' },\n  { id: 36, name: 'Історичний' },\n  { id: 27, name: 'Жахи' },\n  { id: 10402, name: 'Музика' },\n  { id: 9648, name: 'Детектив' },\n  { id: 10749, name: 'Мелодрама' },\n  { id: 878, name: 'Фантастика' },\n  { id: 10770, name: 'Телефільм' },\n  { id: 53, name: 'Трилер' },\n  { id: 10752, name: 'Військовий' },\n  { id: 37, name: 'Вестерн' },\n];\n","import { refs } from './refs';\nimport { genresData } from './genresData.js';\nimport plug_img from \"../images/plug_img.jpg\"\n\nexport default function createGalleryMarkup(results) {\n   const markup = results\n    .map(({ genre_ids, id, poster_path, title, release_date }) => {\n\n      const poster = poster_path !== null ?  `https://image.tmdb.org/t/p/w500/${poster_path}` : plug_img;\n      let genres = genresData\n        .filter(obj => genre_ids.includes(obj.id))\n        .map(obj => obj.name)\n        .slice(0, 3)\n        .join(',');\n      return `<li id=\"${id}\" class=\"gallery__film_item\">\n          <a href=\"\" class=\"gallery__film_link\">\n            <div class=\"thumb\">\n            <img class=\"gallery__film_poster\" loading=\"lazy\" src=\"${poster}\"\n            \"alt=\"${title}\"   />\n            </div>\n            <div class=\"description\">\n              <h3 class=\"description-title link\">${title}</h3>\n              <p class=\"description-text\">${release_date}</p>\n              <p class=\"description-text\">${genres}</p>\n            </div>\n          </a>\n        </li>`;\n    })\n    .join('');\n  refs.jsGalleryList.insertAdjacentHTML('beforeend', markup);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9mItj\")).toString();","import { refs } from './refs';\nimport iconClosePath from \"../images/close_x.svg\"\nimport plug_img from \"../images/plug_img.jpg\"\n\nexport default function createModalMarkup(response) {\n  const genres = response.genres\n    .map(el => el.name)\n    .slice(0, 2)\n    .join(',');\n    \n  const videos = response.videos.results;\n  let isVideo = '';\n  let key = '';\n  if (videos.length >= 1) {\n    key = `${videos[0].key}`;\n  } else {\n    key = '';\n    isVideo = 'is_hidden'\n  }\n\n  const {\n    id,\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    overview,\n  } = response;\n\n  const videoLink = videos.length >= 1 ? `href=https://www.youtube.com/watch?v=${key}` : ``;\n  const poster = poster_path !== null ? `https://image.tmdb.org/t/p/w500/${poster_path}` : plug_img;\n  \n  const markup = `<div class=\"modal__body\"> \n                    <div class=\"modal__film_poster \">\n                      <a class=\"modal__film_poster_link\" ${videoLink} target=\"_blank\">\n                        <img class=\"modal__film_img img\" src=\"${poster}\" alt=\"${title}\" width=\"280\" height=\"398\">\n                        <span class=\"watch-icon ${isVideo}\"></span>\n                      </a>\n                    </div>\n                    <div id=\"${id}\" class=\"modal__film_description\">\n                      <h2 class=\"modal__film_title\">${title}</h2>\n                      <div class=\"modal__film_configuration\">\n                      <ul class=\"modal__film_configuration_list list\">\n                        <li class=\"modal__film_configuration_item\">Рейтинг</li>\n                        <li class=\"modal__film_configuration_item\">Популярність</li>\n                        <li class=\"modal__film_configuration_item\">Назва</li>\n                        <li class=\"modal__film_configuration_item\">Жанр</li>\n                      </ul>\n                      <ul class=\"modal__film_configuration_list_value list\">\n                        <li class=\"modal__film_configuration_item\"><span class=\"configuration__vote_averagee_value\">${vote_average}</span>&#x02F;<span class=\"configuration__vote_count_value\">${vote_count}</span></li>\n                        <li class=\"modal__film_configuration_item\">${popularity}</li>\n                        <li class=\"modal__film_configuration_item\">${title}</li>\n                        <li class=\"modal__film_configuration_item\">${genres}</li>\n                      </ul>\n                    </div>\n                      <h3 class=\"modal__film_second_title\">Опис</h3>\n                      <p class=\"modal__film_overview\">${overview}</p>\n                      <ul class=\"modal__btn list\">\n                        <li><button type=\"button\" class=\"modal__addToWatched_btn button active_btn\"  data-action=\"addToWatched\">\n                          додати в переглянуті\n                        </button></li>\n                        <li><button type=\"button\" class=\"modal__addToQueue_btn button\" data-action=\"addToQueue\">\n                          додати в чергу\n                        </button></li>\n                      </ul>\n                    </div>\n                        <button type=\"button\" class=\"close_btn\" data-action=\"close-modal\">\n                          <img class=\"close-icon\" src=${iconClosePath} alt=\"\">\n                        </button>\n                        <span class=\"js-loader\"></span>\n                  </div>`;\n\n  refs.jsModal.insertAdjacentHTML('afterbegin', markup);\n}\n","import { refs } from './refs';\nimport plug_img from \"../images/plug_img.jpg\"\n\nexport default function createMyLibGalleryMarkup(results) {\n  const markup = results\n    .map(({ genres, id, poster_path, title, release_date }) => {\n      let genresFilm = genres\n        .map(obj => obj.name)\n        .slice(0, 3)\n        .join(',');\n          const poster = poster_path !== null ?  `https://image.tmdb.org/t/p/w500/${poster_path}` : plug_img;\n        return `<li id=\"${id}\" class=\"gallery__film_item\">\n                  <a href=\"\" class=\"gallery__film_link\">\n                    <div class=\"thumb\">\n                      <img class=\"gallery__film_poster\" loading=\"lazy\" src=\"${poster}\" alt=\"\"   />\n                    </div>\n                    <div class=\"description\">\n                      <h3 class=\"description-title link\">${title}</h3>\n                      <p class=\"description-text\">${release_date}</p>\n                      <p class=\"description-text\">${genresFilm}</p>\n                    </div>\n                  </a>\n                </li>`;\n    })\n    .join('');\n  refs.jsGalleryList.insertAdjacentHTML('beforeend', markup);\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"eVStz\")).toString();","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","import { refs } from './refs';\nimport fetchSelectMovie from './fetchSelectMovie';\nimport createMyLibGalleryMarkup from './createMyLibGalleryMarkup';\nimport storage from './localStorage';\n\nconst watchedKey = 'addToWatched';\nconst queueKey = 'addToQueue';\nlet addToWatchedFilms = [];\nlet addToQueueFilms = [];\n\nexport default function onModalBtnClick(e) {\n  const button = e.target;\n  const addToWatchedBtn = document.querySelector(\n    'button[data-action=\"addToWatched\"]'\n  );\n  const addToQueueBtn = document.querySelector(\n    'button[data-action=\"addToQueue\"]'\n  );\n  if (button.classList.contains('modal__addToWatched_btn')) {\n    addToWatchedBtn.setAttribute('disabled', 'true');\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    fetchSelectMovie(selectFilmId)\n      .then(response => {\n        addToWatchedFilms.push(response);\n        storage.save(watchedKey, addToWatchedFilms);\n      })\n      .catch(err => console.error(err));\n  } else if (button.classList.contains('modal__addToQueue_btn')) {\n    addToQueueBtn.setAttribute('disabled', 'true');\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    fetchSelectMovie(selectFilmId)\n      .then(response => {\n        addToQueueFilms.push(response);\n        storage.save(queueKey, addToQueueFilms);\n      })\n      .catch(err => console.error(err));\n  } else if (button.classList.contains('modal__remove_btn')) {\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    if (refs.headerWatchedBtn.hasAttribute('disabled')) {\n      const filteredFilm = storage\n        .load(watchedKey)\n        .filter(el => el.id !== Number(selectFilmId));\n      storage.save(watchedKey, filteredFilm);\n      handleBtn();\n      const loadStorage = storage.load(watchedKey);\n      createMyLibGalleryMarkup(loadStorage);\n    }\n    if (refs.headerQueueBtn.hasAttribute('disabled')) {\n      const filteredFilm = storage\n        .load(queueKey)\n        .filter(el => el.id !== Number(selectFilmId));\n      storage.save(queueKey, filteredFilm);\n      handleBtn();\n      const loadStorage = storage.load(queueKey);\n      createMyLibGalleryMarkup(loadStorage);\n    }\n  }\n}\n\nfunction handleBtn() {\n  document.body.classList.remove('show-modal');\n  document.body.classList.remove('no-scroll');\n        refs.jsGalleryList.innerHTML = '';\n}\n","import { refs } from './refs';\n\nfunction addLoader() {\n  refs.jsLoader.classList.add('loader');\n}\n\nfunction removeLoader() {\n  setTimeout(() => {\n    refs.jsLoader.classList.remove('loader');\n  }, 500);\n}\n\nexport default {\n  addLoader,\n  removeLoader,\n};\n","import { refs } from './refs';\n\nexport default function addScroll() {\n    refs.anchor.addEventListener('click', function(e) {\n      e.preventDefault();\n    \n      const target = document.querySelector(refs.anchor.getAttribute('href'));\n    \n      target.scrollIntoView({ behavior: 'smooth' });\n    });\n}\n","import { refs } from './js/refs';\nimport fetchTrendingMovie from './js/fetchTrendingMovie';\nimport fetchSearchMovie from './js/fetchSearchMovie';\nimport fetchSelectMovie from './js/fetchSelectMovie';\nimport createGalleryMarkup from './js/createGalleryMarkup';\nimport createModalMarkup from './js/createModalMarkup';\nimport onModalBtnClick from './js/onModalBtnClick';\nimport loaderModule from './js/loader';\nimport addScroll from './js/scrollToAnkore';\n\naddScroll();\n\nlet page = 1;\nlet value = '';\n\nlet options = {\n  root: null,\n  rootMargin: '900px',\n  threshold: 1.0,\n};\n\nrefs.jsForm.addEventListener('submit', onSearchBtnClick);\n\n// For trending movies\nlet trendingObserver = new IntersectionObserver(onLoad, options);\n\n// To search by name\nlet searchObserver = new IntersectionObserver(onSearchLoad, options);\n\nlet trendingLoaded = false;\nlet searchLoaded = false;\n/**\n  |============================\n  | Request a list of trending movies\n  |============================\n*/\nfetchTrendingMovie(page)\n  .then(response => {\n    loaderModule.addLoader();\n    createGalleryMarkup(response.results);\n    trendingObserver.observe(refs.trendingTarget);\n  })\n  .catch(err => console.error(err))\n  .finally(() => {\n    loaderModule.removeLoader();\n  });\n\nfunction onLoad(entries, trendingObserver) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && !trendingLoaded) {\n      trendingLoaded = true;\n      page += 1;\n      fetchTrendingMovie(page)\n        .then(response => {\n          loaderModule.addLoader();\n          createGalleryMarkup(response.results);\n          if (response.total_pages === page) {\n            trendingObserver.unobserve(refs.trendingTarget);\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          loaderModule.removeLoader();\n          trendingLoaded = false;\n        });\n    }\n  });\n}\n\n/**\n  |============================\n  | Search by name + sxroll\n  |============================\n*/\n\nfunction onSearchBtnClick(e) {\n  e.preventDefault();\n  trendingObserver.unobserve(refs.trendingTarget);\n  page = 1;\n  value = e.target.elements.name.value.trim();\n  if (value === '') {\n    refs.search_message.classList.remove('is_hidden');\n    setTimeout(() => {\n      refs.search_message.classList.add('is_hidden');\n    }, 3000);\n    return;\n  }\n  refs.jsGalleryList.innerHTML = '';\n  fetchSearchMovie(value, page)\n    .then(response => {\n      if (response.results.length === 0) {\n        refs.search_message.classList.remove('is_hidden');\n        setTimeout(() => {\n          refs.jsForm.reset();\n          refs.search_message.classList.add('is_hidden');\n        }, 2000);\n        return;\n      }\n      loaderModule.addLoader();\n      createGalleryMarkup(response.results);\n      searchObserver.observe(refs.searchTarget);\n    })\n    .catch(err => console.error(err))\n    .finally(() => loaderModule.removeLoader());\n}\n\nfunction onSearchLoad(entries, searchObserver) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting && !searchLoaded) {\n      searchLoaded = true;\n      page += 1;\n      fetchSearchMovie(value, page)\n        .then(response => {\n          loaderModule.addLoader();\n          createGalleryMarkup(response.results);\n          if (response.total_pages === page) {\n            searchObserver.unobserve(refs.searchTarget);\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => {\n          loaderModule.removeLoader();\n          searchLoaded = false;\n        });\n    }\n  });\n}\n\n/**\n  |============================\n  | Request for the selected movie + opening the modal\n  |============================\n*/\n\nrefs.jsGalleryList.addEventListener('click', onFilmClick);\nrefs.backdrop.addEventListener('click', onBackdropClick);\n\nfunction onFilmClick(e) {\n  e.preventDefault();\n  refs.jsModal.innerHTML = '';\n  const selectFilmId = e.target.closest('.gallery__film_item').id;\n  fetchSelectMovie(selectFilmId)\n    .then(response => {\n      loaderModule.addLoader();\n      onOpenModal();\n      createModalMarkup(response);\n    })\n    .catch(err => console.error(err))\n    .finally(() => loaderModule.removeLoader());\n}\n\nfunction onOpenModal() {\n  document.body.classList.add('show-modal');\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', onEscKeyPress);\n  refs.jsModal.addEventListener('click', onModalBtnClick);\n\n  // Делегирование события клика для кнопки закрытия модального окна\n  refs.jsModal.addEventListener('click', e => {\n    const closeButton = e.target.closest('.close_btn');\n    if (closeButton) {\n      onCloseModal();\n    }\n  });\n}\n\nfunction onCloseModal(e) {\n  document.removeEventListener('keydown', onEscKeyPress);\n  refs.jsModal.removeEventListener('click', onModalBtnClick);\n  document.body.classList.remove('show-modal');\n  document.body.classList.remove('no-scroll');\n}\n\nfunction onBackdropClick(e) {\n  const isTrue = e.currentTarget === e.target;\n  if (isTrue) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ee27a4d7c64fc8c4$export$21666b427502ea6d","jsForm","document","querySelector","search_message","jsGallery","jsGalleryList","trendingTarget","searchTarget","jsModal","backdrop","closeModalBtn","myLib","headerWatchedBtn","headerQueueBtn","jsLoader","anchor","$b0d35da00ef75e2a$var$options","method","headers","accept","Authorization","$b0d35da00ef75e2a$export$2e2bcd8739ae039","page","fetch","then","response","ok","status","json","$17d257960d922de7$var$options","$17d257960d922de7$export$2e2bcd8739ae039","value","$df991f9e19050888$var$options","$df991f9e19050888$export$2e2bcd8739ae039","$53275b295f7d85ab$export$60e74233ec38dd9","name","$dc0a7bcc07c0f6f6$export$2e2bcd8739ae039","results","markup","map","genre_ids","poster_path","title","release_date","$parcel$interopDefault","$10fa6610e135eb50$exports","filter","obj","includes","slice","join","insertAdjacentHTML","URL","resolve","import","meta","url","toString","$b9d63ba5fe8ddf9d$export$2e2bcd8739ae039","genres","el","videos","isVideo","key","vote_average","vote_count","popularity","original_title","overview","$91be0c4b961e1aa1$exports","$b28ca72d7858ba6a$export$2e2bcd8739ae039","genresFilm","$2338c8cd734f85a6$export$2e2bcd8739ae039","serializedState","stringify","localStorage","setItem","error","console","message","getItem","undefined","$c91d88eba0dde466$var$addToWatchedFilms","$c91d88eba0dde466$var$addToQueueFilms","$c91d88eba0dde466$export$2e2bcd8739ae039","e","button","target","addToWatchedBtn","addToQueueBtn","classList","contains","setAttribute","closest","push","save","catch","err","selectFilmId","hasAttribute","filteredFilm","load","Number","$c91d88eba0dde466$var$handleBtn","body","remove","innerHTML","$bdfcdc80b4c38739$export$2e2bcd8739ae039","add","setTimeout","addEventListener","preventDefault","getAttribute","scrollIntoView","behavior","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$value","$1f0dc3b9307be026$var$options","root","rootMargin","threshold","$1f0dc3b9307be026$var$trendingObserver","unobserve","elements","trim","reset","addLoader","$1f0dc3b9307be026$var$searchObserver","observe","finally","removeLoader","IntersectionObserver","entries","trendingObserver1","forEach","entry","isIntersecting","$1f0dc3b9307be026$var$trendingLoaded","total_pages","log","searchObserver1","$1f0dc3b9307be026$var$searchLoaded","$1f0dc3b9307be026$var$onCloseModal","removeEventListener","$1f0dc3b9307be026$var$onEscKeyPress","code","currentTarget"],"version":3,"file":"index.8e2f8fe3.js.map"}