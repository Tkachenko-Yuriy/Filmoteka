{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-8fafff5d23af2f6a.js","src/js/refs.js","src/js/createMyLibGalleryMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-d9d5562797da20d5.js","src/js/fetchSelectMovie.js","src/js/createMyLibModalMarkup.js","node_modules/@parcel/runtime-js/lib/runtime-85fd1d9712fecd2a.js","src/js/localStorage.js","src/js/onModalBtnClick.js","src/js/loader.js","src/js/scrollToAnkore.js","src/my_library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"8VPso\\\":\\\"my_library.7bd678fa.js\\\",\\\"9RXJu\\\":\\\"plug_img.1b18cf51.jpg\\\",\\\"fiAik\\\":\\\"close_x.576fb31f.svg\\\"}\"));","export const refs = {\n  jsForm: document.querySelector('.js-form'),\n  search_message: document.querySelector('.js-form__search_message'),\n  jsGallery: document.querySelector('.js-gallery'),\n  jsGalleryList: document.querySelector('.js-gallery-list'),\n  trendingTarget : document.querySelector('.js-trending-target'),\n  searchTarget : document.querySelector('.js-search-target'),\n  jsModal: document.querySelector('.js-modal'),\n  backdrop: document.querySelector('.js-backdrop'),\n  closeModalBtn: document.querySelector('.close_btn'),\n  myLib: document.querySelector('.js-my_lib'),\n  headerWatchedBtn: document.querySelector('.header__watched_btn'),\n  headerQueueBtn: document.querySelector('.header__queue_btn'),\n  jsLoader: document.querySelector('.js-loader'),\n  anchor: document.querySelector('.js-anchor'),\n};\n\n","import { refs } from './refs';\nimport plug_img from \"../images/plug_img.jpg\"\n\nexport default function createMyLibGalleryMarkup(results) {\n  const markup = results\n    .map(({ genres, id, poster_path, title, release_date }) => {\n      let genresFilm = genres\n        .map(obj => obj.name)\n        .slice(0, 3)\n        .join(',');\n          const poster = poster_path !== null ?  `https://image.tmdb.org/t/p/w500/${poster_path}` : plug_img;\n        return `<li id=\"${id}\" class=\"gallery__film_item\">\n                  <a href=\"\" class=\"gallery__film_link\">\n                    <div class=\"thumb\">\n                      <img class=\"gallery__film_poster\" loading=\"lazy\" src=\"${poster}\" alt=\"\"   />\n                    </div>\n                    <div class=\"description\">\n                      <h3 class=\"description-title link\">${title}</h3>\n                      <p class=\"description-text\">${release_date}</p>\n                      <p class=\"description-text\">${genresFilm}</p>\n                    </div>\n                  </a>\n                </li>`;\n    })\n    .join('');\n  refs.jsGalleryList.insertAdjacentHTML('beforeend', markup);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('8VPso') + require('./helpers/bundle-manifest').resolve(\"9RXJu\");","const BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = '270f62a3161833b29f3534ef1d18d5a6';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNzBmNjJhMzE2MTgzM2IyOWYzNTM0ZWYxZDE4ZDVhNiIsInN1YiI6IjY1NjliMzRmNjM1MzZhMDBjNDJhOTRhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.W6n_PVw8L5YbP5E4yWe4QgSA4ZnMDGxzBFCiqZdJHBc',\n  },\n};\n\nexport default function fetchSelectMovie(id) {\n  return fetch(\n    `${BASE_URL}/3/movie/${id}?&append_to_response=videos&language=uk-UK`,\n    options\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { refs } from './refs';\nimport iconClosePath from '../images/close_x.svg';\nimport plug_img from '../images/plug_img.jpg';\n\nexport default function createModalMarkup(response) {\n  const genres = response.genres\n    .map(el => el.name)\n    .slice(0, 3)\n    .join(',');\n  const videos = response.videos.results;\n  let isVideo = '';\n  let key = '';\n  if (videos.length >= 1) {\n    key = `${videos[0].key}`;\n  } else {\n    key = '';\n    isVideo = 'is_hidden'\n  }\n\n  const {\n    id,\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    overview,\n  } = response;\n\n    const videoLink = videos.length >= 1 ? `href=https://www.youtube.com/watch?v=${key}` : ``;\n\n  const poster =\n    poster_path !== null\n      ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n      : plug_img;\n  const markup = `<div class=\"modal__body\"> \n                    <div class=\"modal__film_poster \">\n                      <a class=\"modal__film_poster_link\" ${videoLink} target=\"_blank\">\n                        <img class=\"modal__film_img img\" src=\"${poster}\" alt=\"\" width=\"280\" height=\"398\">\n                        <span class=\"watch-icon ${isVideo}\"></span>\n                      </a>\n                    </div>\n                    <div id=\"${id}\" class=\"modal__film_description\">\n                      <h2 class=\"modal__film_title\">${title}</h2>\n                      <div class=\"modal__film_configuration\">\n                      <ul class=\"modal__film_configuration_list list\">\n                        <li class=\"modal__film_configuration_item\">Рейтинг</li>\n                        <li class=\"modal__film_configuration_item\">Популярність</li>\n                        <li class=\"modal__film_configuration_item\">Назва</li>\n                        <li class=\"modal__film_configuration_item\">Жанр</li>\n                      </ul>\n                      <ul class=\"modal__film_configuration_list_value list\">\n                        <li class=\"modal__film_configuration_item\"><span class=\"configuration__vote_averagee_value\">${vote_average}</span>&#x02F;<span class=\"configuration__vote_count_value\">${vote_count}</span></li>\n                        <li class=\"modal__film_configuration_item\">${popularity}</li>\n                        <li class=\"modal__film_configuration_item\">${original_title}</li>\n                        <li class=\"modal__film_configuration_item\">${genres}</li>\n                      </ul>\n                      </div>\n                      <h3 class=\"modal__film_second_title\">Опис</h3>\n                      <p class=\"modal__film_overview\">${overview}</p>\n                      <button type=\"button\" class=\"modal__remove_btn button\"  data-action=\"removeLs\">\n                          Видалити з черги\n                      </button>\n                  </div>\n                      <button type=\"button\" class=\"close_btn\" data-action=\"close-modal\">\n                        <img class=\"close-icon\" src=${iconClosePath} alt=\"\">\n                      </button>\n                </div>`;\n\n  refs.jsModal.insertAdjacentHTML('afterbegin', markup);\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('8VPso') + require('./helpers/bundle-manifest').resolve(\"fiAik\");","const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport default {\n  save,\n  load,\n};\n","import { refs } from './refs';\nimport fetchSelectMovie from './fetchSelectMovie';\nimport createMyLibGalleryMarkup from './createMyLibGalleryMarkup';\nimport storage from './localStorage';\n\nconst watchedKey = 'addToWatched';\nconst queueKey = 'addToQueue';\nlet addToWatchedFilms = [];\nlet addToQueueFilms = [];\n\nexport default function onModalBtnClick(e) {\n  const button = e.target;\n  const addToWatchedBtn = document.querySelector(\n    'button[data-action=\"addToWatched\"]'\n  );\n  const addToQueueBtn = document.querySelector(\n    'button[data-action=\"addToQueue\"]'\n  );\n  if (button.classList.contains('modal__addToWatched_btn')) {\n    addToWatchedBtn.setAttribute('disabled', 'true');\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    fetchSelectMovie(selectFilmId)\n      .then(response => {\n        addToWatchedFilms.push(response);\n        storage.save(watchedKey, addToWatchedFilms);\n      })\n      .catch(err => console.error(err));\n  } else if (button.classList.contains('modal__addToQueue_btn')) {\n    addToQueueBtn.setAttribute('disabled', 'true');\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    fetchSelectMovie(selectFilmId)\n      .then(response => {\n        addToQueueFilms.push(response);\n        storage.save(queueKey, addToQueueFilms);\n      })\n      .catch(err => console.error(err));\n  } else if (button.classList.contains('modal__remove_btn')) {\n    const selectFilmId = e.target.closest('.modal__film_description').id;\n    if (refs.headerWatchedBtn.hasAttribute('disabled')) {\n      const filteredFilm = storage\n        .load(watchedKey)\n        .filter(el => el.id !== Number(selectFilmId));\n      storage.save(watchedKey, filteredFilm);\n      handleBtn();\n      const loadStorage = storage.load(watchedKey);\n      createMyLibGalleryMarkup(loadStorage);\n    }\n    if (refs.headerQueueBtn.hasAttribute('disabled')) {\n      const filteredFilm = storage\n        .load(queueKey)\n        .filter(el => el.id !== Number(selectFilmId));\n      storage.save(queueKey, filteredFilm);\n      handleBtn();\n      const loadStorage = storage.load(queueKey);\n      createMyLibGalleryMarkup(loadStorage);\n    }\n  }\n}\n\nfunction handleBtn() {\n  document.body.classList.remove('show-modal');\n  document.body.classList.remove('no-scroll');\n        refs.jsGalleryList.innerHTML = '';\n}\n","import { refs } from './refs';\n\nfunction addLoader() {\n  refs.jsLoader.classList.add('loader');\n}\n\nfunction removeLoader() {\n  setTimeout(() => {\n    refs.jsLoader.classList.remove('loader');\n  }, 500);\n}\n\nexport default {\n  addLoader,\n  removeLoader,\n};\n","import { refs } from './refs';\n\nexport default function addScroll() {\n    refs.anchor.addEventListener('click', function(e) {\n      e.preventDefault();\n    \n      const target = document.querySelector(refs.anchor.getAttribute('href'));\n    \n      target.scrollIntoView({ behavior: 'smooth' });\n    });\n}\n","import { refs } from './js/refs';\nimport createMyLibGalleryMarkup from './js/createMyLibGalleryMarkup';\nimport fetchSelectMovie from './js/fetchSelectMovie';\nimport createMyLibModalMarkup from './js/createMyLibModalMarkup';\nimport onModalBtnClick from './js/onModalBtnClick';\nimport storage from './js/localStorage';\nimport loaderModule from './js/loader';\nimport addScroll from './js/scrollToAnkore';\n\naddScroll()\n\nconst watchedKey = 'addToWatched';\nconst queueKey = 'addToQueue';\n\nrefs.headerWatchedBtn.addEventListener('click', onWatchedBtnClick);\nrefs.headerQueueBtn.addEventListener('click', onQueueBtnClick);\n\nif (refs.myLib.classList.contains('current_page')) {\n  onWatchedBtnClick();\n}\n\nfunction onWatchedBtnClick() {\n  handlWatchedBtn();\n  const loadStorage = storage.load(watchedKey);\n  createMyLibGalleryMarkup(loadStorage);\n}\nfunction onQueueBtnClick() {\n  handlQueueBtn();\n  const loadStorage = storage.load(queueKey);\n  createMyLibGalleryMarkup(loadStorage);\n}\n\n/**\n  |============================\n  | Modal\n  |============================\n*/\n\nrefs.jsGalleryList.addEventListener('click', onFilmClick);\n\nfunction onFilmClick(e) {\n  e.preventDefault();\n  refs.jsModal.innerHTML = '';\n  const selectFilmId = e.target.closest('.gallery__film_item').id;\n  fetchSelectMovie(selectFilmId)\n    .then(response => {\n      loaderModule.addLoader();\n      onOpenModal();\n      createMyLibModalMarkup(response);\n    })\n    .catch(err => console.error(err))\n    .finally(() => loaderModule.removeLoader());\n}\n\nfunction onOpenModal() {\n  document.body.classList.add('show-modal');\n  document.body.classList.add('no-scroll');\n  document.addEventListener('keydown', onEscKeyPress);\n  refs.backdrop.addEventListener('click', onBackdropClick);\n  refs.jsModal.addEventListener('click', onModalBtnClick);\n  refs.jsModal.addEventListener('click', e => {\n    const closeButton = e.target.closest('.close_btn');\n    if (closeButton) {\n      onCloseModal();\n    }\n  });\n}\n\nfunction onCloseModal() {\n  document.removeEventListener('keydown', onEscKeyPress);\n  document.body.classList.remove('show-modal');\n  document.body.classList.remove('no-scroll');\n}\n\nfunction onBackdropClick(e) {\n  const isTrue = e.currentTarget === e.target;\n  if (isTrue) {\n    onCloseModal();\n  }\n}\n\nfunction onEscKeyPress(e) {\n  const ESC_KEY_CODE = 'Escape';\n  const isEscKey = e.code === ESC_KEY_CODE;\n  if (isEscKey) {\n    onCloseModal();\n  }\n}\n\nfunction handlWatchedBtn() {\n  refs.headerWatchedBtn.setAttribute('disabled', 'true');\n  refs.headerQueueBtn.removeAttribute('disabled');\n  refs.headerWatchedBtn.classList.add('active_btn');\n  refs.headerQueueBtn.classList.remove('active_btn');\n  refs.jsGalleryList.innerHTML = '';\n}\n\nfunction handlQueueBtn() {\n  refs.headerQueueBtn.setAttribute('disabled', 'true');\n  refs.headerWatchedBtn.removeAttribute('disabled');\n  refs.headerWatchedBtn.classList.remove('active_btn');\n  refs.headerQueueBtn.classList.add('active_btn');\n  refs.jsGalleryList.innerHTML = '';\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$37e33676934ad046$export$21666b427502ea6d","jsForm","document","querySelector","search_message","jsGallery","jsGalleryList","trendingTarget","searchTarget","jsModal","backdrop","closeModalBtn","myLib","headerWatchedBtn","headerQueueBtn","jsLoader","anchor","$d03a82ecd663d811$export$2e2bcd8739ae039","results","markup","map","param","genres","poster_path","title","release_date","genresFilm","obj","name","slice","join","poster","concat","$parcel$interopDefault","$25df8dde7395d36b$exports","insertAdjacentHTML","getBundleURL","resolve","$014ca4d789a879bb$var$options","method","headers","accept","Authorization","$014ca4d789a879bb$export$2e2bcd8739ae039","fetch","then","response","ok","status","json","$fb89e68daf5f984b$export$2e2bcd8739ae039","el","videos","isVideo","key","vote_average","vote_count","popularity","original_title","overview","videoLink","$39df3e7146604a65$exports","$0aa9cd13c14a6e1e$export$2e2bcd8739ae039","save","serializedState","stringify","localStorage","setItem","error","console","message","load","getItem","undefined","$03211217203815da$var$watchedKey","$03211217203815da$var$queueKey","$03211217203815da$var$addToWatchedFilms","$03211217203815da$var$addToQueueFilms","$03211217203815da$export$2e2bcd8739ae039","e","button","target","addToWatchedBtn","addToQueueBtn","classList","contains","setAttribute","closest","push","catch","selectFilmId2","hasAttribute","filteredFilm","filter","Number","$03211217203815da$var$handleBtn","filteredFilm1","body","remove","innerHTML","$03da642c15b09e5e$export$2e2bcd8739ae039","addLoader","add","removeLoader","setTimeout","addEventListener","preventDefault","getAttribute","scrollIntoView","behavior","$f5cce7b74bd6f87c$var$onWatchedBtnClick","removeAttribute","$f5cce7b74bd6f87c$var$onCloseModal","removeEventListener","$f5cce7b74bd6f87c$var$onEscKeyPress","$f5cce7b74bd6f87c$var$onBackdropClick","currentTarget","code","finally"],"version":3,"file":"my_library.7bd678fa.js.map"}